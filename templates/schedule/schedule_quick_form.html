<!-- templates/schedule/schedule_quick_form.html -->
<div class="modal-header">
    <h5 class="modal-title">
        {% if schedule and schedule.pk %}Редактирование смены{% else %}Создание новой смены{% endif %}
    </h5>
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
</div>
<div class="modal-body">
    <form id="schedule-quick-form" method="post" 
        action="{% if schedule and schedule.pk %}{% url 'schedule_quick_edit' schedule.pk %}{% else %}{% url 'schedule_quick_create' %}{% endif %}">
        {% csrf_token %}
        
        {% if form.non_field_errors %}
            <div class="alert alert-danger">
                {% for error in form.non_field_errors %}
                    {{ error }}
                {% endfor %}
            </div>
        {% endif %}
        
        {% for field in form %}
            <div class="mb-3">
                <label for="{{ field.id_for_label }}" class="form-label">{{ field.label }}</label>
                {{ field }}
                {% if field.errors %}
                    <div class="invalid-feedback" style="display: block;">
                        {% for error in field.errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
        {% endfor %}
    </form>
</div>
<div class="modal-footer">
    {% if schedule and schedule.pk %}
    <button type="button" class="btn btn-danger" id="delete-schedule" data-id="{{ schedule.pk }}">Удалить</button>
    {% endif %}
    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Отмена</button>
    <button type="submit" class="btn btn-primary" form="schedule-quick-form">Сохранить</button>
</div>